---
layout: post
title: mac에 rbenv 사용해서 ruby 개발환경 세팅하기
date: '2015-11-12T04:47:00.003-08:00'
author: MinSik
tags:
- rbenv
- bundle install
- native extension error
- rails
- ruby
- gitlab
- mac
modified_time: '2015-11-12T04:50:05.810-08:00'
blogger_id: tag:blogger.com,1999:blog-902933560129960148.post-8059587730215287365
blogger_orig_url: http://yms9654.blogspot.com/2015/11/mac-rbenv-ruby.html
---

사실 mac에는 원래 ruby가 설치되어 있는데 이것 때문에 문제가 생길 때가 있다.<br />최근에 <a href="https://github.com/gitlabhq/gitlabhq" target="_blank">Gitlab</a>&nbsp;관련한 소스를 만질때가 많은데<br />bundle install 을 하면 gem 을 설치할때 꼭 한두개씩 error를 내뱉는다.<br /><blockquote class="tr_bq">Gem::Ext::BuildError: ERROR: Failed to build gem native extension.</blockquote>정확한 이유는 파악하지 못했지만 이런 경우 rbenv를 사용해서 ruby를 설치하면 이런 문제가 잘 발생하지 않는다.<br /><a href="https://gitlab.com/gitlab-org/gitlab-development-kit" target="_blank">gitlab-development-kit</a>에서도 이런 내용을 가이드 하고 있다.<br /><blockquote class="tr_bq">Ruby 2.1.6 installed with a ruby version manager (RVM, ruby-build, rbenv, chruby, etc.), DO NOT use the system Ruby</blockquote>mac에서 rbenv 설치는 굉장히 간단하다.<br />자세한 내용은&nbsp;https://github.com/sstephenson/rbenv 여기 있다.<br /><br />1. brew를 사용해서 설치<br /><br /><pre style="background-color: #f7f7f7; border-radius: 3px; box-sizing: border-box; color: #333333; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6px; font-stretch: normal; line-height: 1.45; overflow: auto; padding: 16px; word-break: normal; word-wrap: normal;">$ brew update<br />$ brew upgrade rbenv ruby-build</pre><br />2. .bash_profile 수정<br /><br /><pre style="background-color: #f7f7f7; border-radius: 3px; box-sizing: border-box; color: #333333; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6px; font-stretch: normal; line-height: 1.45; overflow: auto; padding: 16px; word-break: normal; word-wrap: normal;"><span style="color: #333333; font-family: &quot;consolas&quot; , &quot;liberation mono&quot; , &quot;menlo&quot; , &quot;courier&quot; , monospace;"><span style="font-size: 13.6px; line-height: 19.72px;"> eval "$(rbenv init -)"</span></span><span style="color: #333333; font-family: &quot;consolas&quot; , &quot;liberation mono&quot; , &quot;menlo&quot; , &quot;courier&quot; , monospace; font-size: 13.6px; line-height: 1.45;"><br /></span></pre><div>위의 한 줄만 추가하면 된다.</div><div><br /></div><div>3. ruby 설치</div><div><br /></div><div><pre style="background-color: #f7f7f7; border-radius: 3px; box-sizing: border-box; color: #333333; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6px; font-stretch: normal; line-height: 1.45; overflow: auto; padding: 16px; word-break: normal; word-wrap: normal;"><span class="pl-c" style="box-sizing: border-box; color: #969896;"># list all available versions:</span><br />$ rbenv install -l<br /><br /><span class="pl-c" style="box-sizing: border-box; color: #969896;"># install a Ruby version:</span><br />$ rbenv install 2.0.0-p247<br /><br /><span class="pl-c" style="box-sizing: border-box; color: #969896;"># 인스톨후 이 명령어를 실행 해준다.</span><br />$ rbenv rehash<br /><br /><span class="pl-c" style="box-sizing: border-box; color: #969896;"># Global로 설정하고 싶은 경우.</span><br />$ rbenv global <span style="font-size: 13.6px; line-height: 1.45;">2.0.0-p247</span><br /></pre></div>